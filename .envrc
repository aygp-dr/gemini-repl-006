#!/usr/bin/env bash
# direnv configuration for Gemini REPL

# Load .env file if it exists
if [ -f .env ]; then
    set -a
    source .env
    set +a
fi

# Add scripts to PATH
export PATH="${PWD}/scripts:${PATH}"

# Clojure/Babashka configuration
export BABASHKA_CLASSPATH="${PWD}/src:${PWD}/resources"

# Development helpers
alias bb-repl='bb repl'
alias bb-test='bb test'
alias bb-lint='clj-kondo --lint src test'

# Create logs directory if needed
mkdir -p logs

# Create FIFO if it doesn't exist
if [ ! -p logs/gemini.fifo ]; then
    mkfifo logs/gemini.fifo
fi

echo "Gemini REPL environment loaded"
